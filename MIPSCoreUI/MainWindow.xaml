<Window x:Class="MIPSCoreUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:core="clr-namespace:System;assembly=mscorlib"
        xmlns:BaseObjects="clr-namespace:MIPSCoreUI.BaseObjects"
        Title="MainWindow" Height="525" Width="525"  
    WindowStartupLocation="CenterScreen" Loaded="Window_Loaded">
  <Window.Resources>
    <core:Double x:Key="rectHeight">100</core:Double>
    <core:Double x:Key="rectHeightHalf">50</core:Double>
    <core:Double x:Key="rectWidth">70</core:Double>
    <core:Double x:Key="rectSpace">45</core:Double>
    <Thickness x:Key="rectBorderThickness">2</Thickness>
    <core:Double x:Key="rectFontSizeHeader">12</core:Double>
    <core:Double x:Key="rectFontSize">10</core:Double>
    <core:Double x:Key="pathFontSize">9</core:Double>
    <SolidColorBrush x:Key="controlLineColor">Blue</SolidColorBrush>
    <core:Double x:Key="arrowLength">6</core:Double>
  </Window.Resources>
  <Grid>
    <Grid Height="300" Width="400" Margin="74,107,43,88">
      <Border BorderThickness="{StaticResource rectBorderThickness}" Background="White" Margin="15,130,0,0" Width="{StaticResource rectWidth}" Height="{StaticResource rectHeight}" MouseLeftButtonDown="InstructionMemory_MouseLeftButtonDown" VerticalAlignment="Top" HorizontalAlignment="Left">
        <Border.Style><Style TargetType="Border"><Style.Triggers>
          <Trigger Property="IsMouseOver" Value="True"><Setter Property="BorderBrush" Value="LightBlue"/></Trigger>
          <Trigger Property="IsMouseOver" Value="False"><Setter Property="BorderBrush" Value="Black"/></Trigger>
        </Style.Triggers></Style></Border.Style>
        <Grid>
          <TextBlock VerticalAlignment="Top" HorizontalAlignment="Center" FontSize="{StaticResource rectFontSizeHeader}" TextWrapping="Wrap">Instruction Memory</TextBlock>
          <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" FontSize="{StaticResource rectFontSize}">Addr.</TextBlock>
          <TextBlock VerticalAlignment="Center" HorizontalAlignment="Right" FontSize="{StaticResource rectFontSize}">Inst.</TextBlock>
        </Grid>
      </Border>

      <Path Stroke= "Black" StrokeThickness="1" VerticalAlignment="Top" HorizontalAlignment="Left">
        <Path.Data><PathGeometry><PathGeometry.Figures>
              <PathFigure StartPoint="85,182"><PathFigure.Segments><PolyLineSegment Points="110,182 110,47 135,47"/></PathFigure.Segments></PathFigure>
              <PathFigure StartPoint="85,182"><PathFigure.Segments><PolyLineSegment Points="110,182 110,62 135,62"/></PathFigure.Segments></PathFigure>
              <PathFigure StartPoint="85,182"><PathFigure.Segments><PolyLineSegment Points="110,182 110,77 135,77"/></PathFigure.Segments></PathFigure>
              <PathFigure StartPoint="85,182"><PathFigure.Segments><PolyLineSegment Points="110,182 110,197 135,197"/></PathFigure.Segments></PathFigure>
              <PathFigure StartPoint="85,182"><PathFigure.Segments><PolyLineSegment Points="110,182 110,212 135,212"/></PathFigure.Segments></PathFigure>         
              <PathFigure StartPoint="85,182"><PathFigure.Segments><PolyLineSegment Points="135,182"/></PathFigure.Segments></PathFigure>
            </PathGeometry.Figures></PathGeometry></Path.Data>
      </Path>
      
      <!-- Sign extender line -->
      <BaseObjects:ArrowPolyline x:Name="line_signExtendIn" ArrowLength="{StaticResource arrowLength}" CircleStart="True" Stroke="Black" Points="110,212 110,270 135,270"/>
      <TextBlock HorizontalAlignment="Left" Margin="111,259,0,0" Text="15:0" FontSize="{StaticResource pathFontSize}" VerticalAlignment="Top"/>
      <BaseObjects:ArrowPolyline x:Name="line_signExtendOut" ArrowLength="{StaticResource arrowLength}" Stroke="Black" Points="175,270 213,270 213,208 220,208"/>
      <TextBlock HorizontalAlignment="Left" Margin="175,259,0,0" Text="31:0" FontSize="{StaticResource pathFontSize}" VerticalAlignment="Top"/>
      
      <!-- Control Lines -->
      <BaseObjects:ArrowPolyline ArrowLength="{StaticResource arrowLength}" x:Name="line_regFileWrite"  Stroke="{StaticResource controlLineColor}" Points="135,92 122,92 122,165 135,165"/>
      <BaseObjects:ArrowPolyline ArrowLength="{StaticResource arrowLength}" x:Name="line_aluSrc"  Stroke="{StaticResource controlLineColor}" Points="205,92 231,92 231,179"/>
      
      <!-- Reg File Lines -->
      <BaseObjects:ArrowPolyline ArrowLength="{StaticResource arrowLength}" x:Name="line_regFileRead1"  Stroke="Black" Points="205,165 255,165"/>
      <BaseObjects:ArrowPolyline ArrowLength="{StaticResource arrowLength}" x:Name="line_regFileRead2"  Stroke="Black" Points="205,198 220,198" Margin="0,-9,0,9"/>
      <BaseObjects:ArrowPolyline ArrowLength="{StaticResource arrowLength}" x:Name="line_aluIn2"  Stroke="Black" Points="240,198 255,198"/>
      
      <TextBlock HorizontalAlignment="Left" Margin="85,171,0,0" Text="31:0" FontSize="{StaticResource pathFontSize}" VerticalAlignment="Top"/>
      <TextBlock HorizontalAlignment="Left" Margin="111,36,0,0" Text="25:21" FontSize="{StaticResource pathFontSize}" VerticalAlignment="Top"/>
      <TextBlock HorizontalAlignment="Left" Margin="111,51,0,0" Text="31:26" FontSize="{StaticResource pathFontSize}" VerticalAlignment="Top"/>
      <TextBlock HorizontalAlignment="Left" Margin="111,66,0,0" Text="5:0" FontSize="{StaticResource pathFontSize}" VerticalAlignment="Top"/>
      <TextBlock HorizontalAlignment="Left" Margin="111,171,0,0" Text="25:21" FontSize="{StaticResource pathFontSize}" VerticalAlignment="Top"/>
      <TextBlock HorizontalAlignment="Left" Margin="110,186,0,0" Text="20:16" FontSize="{StaticResource pathFontSize}" VerticalAlignment="Top"/>
      <TextBlock HorizontalAlignment="Left" Margin="111,201,0,0" Text="15:11" FontSize="{StaticResource pathFontSize}" VerticalAlignment="Top"/>

      <Border BorderThickness="{StaticResource rectBorderThickness}" Background="White" Margin="135,130,0,0" Width="{StaticResource rectWidth}" Height="{StaticResource rectHeight}" MouseLeftButtonDown="InstructionMemory_MouseLeftButtonDown"  VerticalAlignment="Top" HorizontalAlignment="Left">
        <Border.Style><Style TargetType="Border"><Style.Triggers>
              <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="BorderBrush" Value="LightBlue"/>
              </Trigger>
              <Trigger Property="IsMouseOver" Value="False">
                <Setter Property="BorderBrush" Value="Black"/>
              </Trigger>
            </Style.Triggers>
          </Style>
        </Border.Style>
        <Grid>
          <TextBlock VerticalAlignment="Top" HorizontalAlignment="Center" FontSize="{StaticResource rectFontSizeHeader}" TextWrapping="Wrap">Register File</TextBlock>
          <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" FontSize="{StaticResource rectFontSize}" Foreground="{StaticResource controlLineColor}" Margin="0,-30,0,0">Write</TextBlock>
          <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" FontSize="{StaticResource rectFontSize}">rs</TextBlock>
          <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" FontSize="{StaticResource rectFontSize}" Margin="0,30,0,0">rd</TextBlock>
          <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" FontSize="{StaticResource rectFontSize}" Margin="0,60,0,0">rt</TextBlock>
          <TextBlock VerticalAlignment="Top" HorizontalAlignment="Right" FontSize="{StaticResource rectFontSize}" Margin="0,25,0,0">Read1</TextBlock>
          <TextBlock VerticalAlignment="Top" HorizontalAlignment="Right" FontSize="{StaticResource rectFontSize}" Margin="0,49,0,0">Read2</TextBlock>
        </Grid>
      </Border>

      <Border CornerRadius="7" BorderThickness="{StaticResource rectBorderThickness}" Background="White" Margin="135,0,0,0" Width="{StaticResource rectWidth}" Height="{StaticResource rectHeight}" MouseLeftButtonDown="InstructionMemory_MouseLeftButtonDown" VerticalAlignment="Top" HorizontalAlignment="Left">
        <Border.Style>
          <Style TargetType="Border">
            <Style.Triggers>
              <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="BorderBrush" Value="LightBlue"/>
              </Trigger>
              <Trigger Property="IsMouseOver" Value="False">
                <Setter Property="BorderBrush" Value="Black"/>
              </Trigger>
            </Style.Triggers>
          </Style>
        </Border.Style>
        <Grid>
          <TextBlock VerticalAlignment="Top" HorizontalAlignment="Center" FontSize="{StaticResource rectFontSizeHeader}" TextWrapping="Wrap">Control Unit</TextBlock>
          <TextBlock VerticalAlignment="Bottom" HorizontalAlignment="Left" FontSize="{StaticResource rectFontSize}" Margin="0,0,0,45">rs</TextBlock>
          <TextBlock VerticalAlignment="Bottom" HorizontalAlignment="Left" FontSize="{StaticResource rectFontSize}" Margin="0,0,0,30">OpCode</TextBlock>
          <TextBlock VerticalAlignment="Bottom" HorizontalAlignment="Left" FontSize="{StaticResource rectFontSize}" Margin="0,0,0,15">Funct.</TextBlock>
          <TextBlock VerticalAlignment="Bottom" HorizontalAlignment="Left" Foreground="{StaticResource controlLineColor}" FontSize="{StaticResource rectFontSize}" Margin="0,0,0,0">Write</TextBlock>
          <TextBlock VerticalAlignment="Bottom" HorizontalAlignment="Right" Foreground="{StaticResource controlLineColor}" FontSize="{StaticResource rectFontSize}">ALUSrc</TextBlock>
        </Grid>
      </Border>
      
      <!-- Sign Extender Block -->
      <Border BorderThickness="{StaticResource rectBorderThickness}" CornerRadius="12" Background="White" Margin="135,250,0,0" Width="40" Height="40" MouseLeftButtonDown="InstructionMemory_MouseLeftButtonDown" VerticalAlignment="Top" HorizontalAlignment="Left">
        <Border.Style><Style TargetType="Border"><Style.Triggers>
          <Trigger Property="IsMouseOver" Value="True"><Setter Property="BorderBrush" Value="LightBlue"/></Trigger>
          <Trigger Property="IsMouseOver" Value="False"><Setter Property="BorderBrush" Value="Black"/></Trigger>
        </Style.Triggers></Style></Border.Style>
        <Grid>
          <TextBlock VerticalAlignment="Top" HorizontalAlignment="Center" FontSize="{StaticResource rectFontSizeHeader}" TextWrapping="Wrap">Sign Extend</TextBlock>
        </Grid>
      </Border>
      
      <!-- Mux -->
      <Grid Width="20" Height="40" Margin="221,178,159,82">
        <Polyline Points="1,1 1,39 19,37 19,3 0,1" StrokeThickness="2" Stroke="Black" />
        <TextBlock VerticalAlignment="Top" HorizontalAlignment="Left" FontSize="{StaticResource rectFontSizeHeader}" Margin="2,2,0,0">0</TextBlock>
        <TextBlock VerticalAlignment="Top" HorizontalAlignment="Left" FontSize="{StaticResource rectFontSizeHeader}" Margin="2,21,0,0">1</TextBlock>
      </Grid>
      
      <Border BorderThickness="{StaticResource rectBorderThickness}" Background="White" Margin="255,130,0,0" Width="{StaticResource rectWidth}" Height="{StaticResource rectHeight}" MouseLeftButtonDown="InstructionMemory_MouseLeftButtonDown" VerticalAlignment="Top" HorizontalAlignment="Left">
        <Border.Style><Style TargetType="Border"><Style.Triggers>
          <Trigger Property="IsMouseOver" Value="True"><Setter Property="BorderBrush" Value="LightBlue"/></Trigger>
          <Trigger Property="IsMouseOver" Value="False"><Setter Property="BorderBrush" Value="Black"/></Trigger>
        </Style.Triggers></Style></Border.Style>
        <Grid>
          <TextBlock VerticalAlignment="Top" HorizontalAlignment="Center" FontSize="{StaticResource rectFontSizeHeader}" TextWrapping="Wrap">ALU</TextBlock>
          <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" FontSize="{StaticResource rectFontSize}">Addr.</TextBlock>
          <TextBlock VerticalAlignment="Center" HorizontalAlignment="Right" FontSize="{StaticResource rectFontSize}">Inst.</TextBlock>
        </Grid>
      </Border>
      

      
    </Grid>
  </Grid>

</Window>
